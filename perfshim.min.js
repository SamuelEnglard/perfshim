(function(){var l=window.execScript||eval,c,f=[],a={},g=null,h=0;function d(){d.element=document.getElementsByTagName("script")[0];return d.element}function e(){e.element=e.element||document.createElement("div");return e.element}var b={"Element-Prototype":{name:"Element-Prototype",url:"Element-Prototype.min.js",regex:/(?:\s|;|^|(?:window\.))Element\.prototype(?:(?:\.\w)|\[)/,scriptNeeds:function(a){return this.regex.test(a)},environmentNeeds:function(){return window.Element===undefined},dependencies:function(){return[]}},"HTMLElement-Prototype":{name:"HTMLElement-Prototype",url:"HTMLElement-Prototype.min.js",regex:/(?:\s|;|^|(?:window\.))HTMLElement\.prototype(?:(?:\.\w)|\[)/,scriptNeeds:function(a){return this.regex.test(a)},environmentNeeds:function(){return window.HTMLElement===undefined},dependencies:function(){return[]}},addEventListener:{name:"addEventListener",url:"addEventListener.min.js",regex:new RegExp("(((\\w|])(\\[(\"|')addEventListener\\5\\]))|(\\w\\.addEventListener))(\\(|\\.call\\(|\\.apply\\(|\\[(\"|')call\\8\\]\\(|\\[(\"|')apply\\9\\]\\()"),scriptNeeds:function(a){return this.regex.test(a)},environmentNeeds:function(){return typeof e().addEventListener!=="function"},dependencies:function(){return a["Element-Prototype"]===undefined&&a["HTMLElement-Prototype"]===undefined&&b["Element-Prototype"].environmentNeeds()&&b["HTMLElement-Prototype"].environmentNeeds()?["Element-Prototype"]:[]}},arrayIndexOf:{name:"arrayIndexOf",url:"arrayIndexOf.min.js",regex:new RegExp("(((\\w|])(\\[(\"|')IndexOf\\5\\]))|(\\w\\.IndexOf))(\\(|\\.call\\(|\\.apply\\(|\\[(\"|')call\\8\\]\\(|\\[(\"|')apply\\9\\]\\()"),scriptNeeds:function(a){return this.regex.test(a)},environmentNeeds:function(){return Array.prototype.indexOf===undefined},dependencies:function(){return[]}}};function i(c){if(a[c.name]===undefined){for(var h=c.dependencies(),e=0;e<h.length;e++){var g=b[h[e]];g.environmentNeeds()&&i(g)}a[c.name]=false;var f=document.createElement("script");f.src=c.url;f.type="text/javascript";d().parentNode.insertBefore(f,d())}}function j(){if(c.length!==0||f.length!==h)return;for(var e in a)if(a.hasOwnProperty(e)&&a[e]===false)return;try{delete window.perfshim}catch(i){window.perfshim=null}for(var d in b)b.hasOwnProperty(d)&&typeof a[d]==="function"&&a[d]();while(f.length>0)l(f.pop());g&&g()}function k(){if(this.readyState===4){if(this.status!==200)throw new Error("Unable to download script");var e=this.getResponseHeader("Content-Type");if(e.indexOf("javascript")!==e.length-10)throw new Error("PerfShim was given a 'script' that is not a script");for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];a[c]===undefined&&d.environmentNeeds()&&d.scriptNeeds(this.responseText)&&i(d)}f.push(this.responseText);j()}}window.perfshim=function(){if(arguments.length===0)throw new Error("PerfShim requires at least one script to be loaded.");var e=0;if(typeof arguments[0]!=="string")if(typeof arguments[0]==="function"){e=1;g=arguments[0];if(arguments.length===1)throw new Error("PerfShim requires at least one script to be loaded.");}else throw new Error("PerfShim requires at least one script to be loaded.");for(var b=1;b<arguments.length;b++)if(typeof arguments[b]!=="string")throw new Error("All scripts must be strings");if(window.XMLHttpRequest===undefined)window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){throw new Error("PerfShim requires the either the XMLHttpRequest native object or ActiveX control. Neither is present in the current system.");}}};else if(typeof window.XMLHttpRequest!=="function"&&window.XMLHttpRequest.toString()!=="[object XMLHttpRequest]")throw new Error("Some JavaScript has replaced the XMLHttpRequest object with something else, to prevent conflicts PerfShim will not run");c=Array.prototype.slice.call(arguments,e);h=c.length;window.perfshim=function(b,c){a[b]=c;j()};while(c.length>0){var d=new XMLHttpRequest,f=c.pop();d.open("GET",f);d.onreadystatechange=k;d.send()}}})()